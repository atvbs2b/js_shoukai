<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript入門：ウェブを動かす魔法の言語</title>
    <link rel="stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Tailwind CSS CDN */
        @import url('https://cdn.tailwindcss.com');
    </style>
</head>
<body class="font-inter bg-gray-50 text-gray-800">
    <header class="bg-blue-600 text-white p-4 shadow-md flex justify-between items-center rounded-b-lg">
        <h1 class="text-2xl font-bold">JavaScript入門</h1>
        <button id="hamburger-menu" class="text-white focus:outline-none md:hidden">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
        <nav id="main-nav" class="hidden md:block">
            <ul class="flex space-x-4">
                <li><a href="#intro" class="hover:underline">JavaScriptとは</a></li>
                <li><a href="#drawing" class="hover:underline">お絵かきボード</a></li>
                <li><a href="#counter" class="hover:underline">カウンターを体験</a></li>
                <li><a href="#applications" class="hover:underline">活用例</a></li>
            </ul>
        </nav>
    </header>

    <nav id="mobile-nav" class="mobile-menu bg-blue-700 text-white p-4 shadow-lg md:hidden">
        <ul class="flex flex-col space-y-2">
            <li><a href="#intro" class="block py-2 hover:bg-blue-800 rounded">JavaScriptとは</a></li>
            <li><a href="#drawing" class="block py-2 hover:bg-blue-800 rounded">お絵かきボード</a></li>
            <li><a href="#counter" class="block py-2 hover:bg-blue-800 rounded">カウンターを体験</a></li>
            <li><a href="#applications" class="block py-2 hover:bg-blue-800 rounded">活用例</a></li>
        </ul>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        <section id="intro" class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-3xl font-bold text-blue-700 mb-4">JavaScriptとは？</h2>
            <p class="mb-4 leading-relaxed">
                JavaScriptは、ウェブページに動きと対話性をもたらすためのプログラミング言語です。HTMLがページの構造を、CSSがページの見た目を定義するのに対し、JavaScriptはユーザーの操作に応じた動的なコンテンツの表示、データの送受信、アニメーションの制御など、ウェブサイトの「振る舞い」を制御します。
            </p>
            <p class="mb-4 leading-relaxed">
                現代のウェブ開発において、JavaScriptは不可欠な存在であり、フロントエンド開発だけでなく、Node.jsの登場によりサーバーサイド開発やデスクトップアプリケーション開発、モバイルアプリ開発にもその活躍の場を広げています。
            </p>
            <img src="https://placehold.co/600x400/ADD8E6/000000?text=JavaScript+Introduction" alt="JavaScriptの紹介イメージ" class="w-full h-auto rounded-md shadow-sm mb-4">
            <h3 class="text-2xl font-semibold text-blue-600 mb-3">JavaScriptの主な特徴</h3>
            <ul class="list-disc list-inside space-y-2 mb-4">
                <li><strong>インタプリタ型言語:</strong> コンパイル不要でブラウザが直接実行します。</li>
                <li><strong>イベント駆動型:</strong> ユーザーのクリックやキー入力などのイベントに応じて処理を実行します。</li>
                <li><strong>非同期処理:</strong> 時間のかかる処理をバックグラウンドで実行し、ページの応答性を保ちます。</li>
                <li><strong>DOM操作:</strong> HTML要素を動的に追加、変更、削除できます。</li>
                <li><strong>豊富なライブラリとフレームワーク:</strong> React, Vue.js, Angularなど、開発を効率化するツールが多数存在します。</li>
            </ul>
            <p class="text-sm text-gray-600">
                さらに詳しく知りたい方は、<a href="https://developer.mozilla.org/ja/docs/Web/JavaScript" target="_blank" class="text-blue-500 hover:underline">MDN Web Docs</a>をご覧ください。
            </p>
        </section>

        <section id="drawing" class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-3xl font-bold text-blue-700 mb-4">JavaScriptでお絵かきボード！</h2>
            <p class="mb-4 leading-relaxed">
                JavaScriptとHTMLの`&lt;canvas&gt;`要素を使えば、ウェブページ上で自由にお絵かきができます。マウスをドラッグして、自分だけの絵を描いてみましょう！
            </p>
            <div class="flex flex-col items-center justify-center mb-6">
                <canvas id="drawingCanvas" class="border-2 border-blue-300 bg-white rounded-md shadow-md w-full h-80"></canvas>
                <button id="clear-canvas-btn" class="mt-4 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    キャンバスをクリア
                </button>
                <p class="text-center text-sm text-gray-600 mt-2">上記キャンバスにマウスで絵を描けます。</p>
            </div>
            <h3 class="text-2xl font-semibold text-blue-600 mb-3">お絵かきコードの解説</h3>
            <p class="mb-4 leading-relaxed">
                以下のJavaScriptコードは、キャンバス上でのマウス操作を検知し、線を描画するロジックを実装しています。
            </p>
            <pre class="bg-gray-100 p-4 rounded-md overflow-x-auto text-sm mb-4"><code>
// HTMLのcanvas要素を取得
const canvas = document.getElementById('drawingCanvas');
// 2D描画コンテキストを取得
const ctx = canvas.getContext('2d');

let isDrawing = false; // 描画中かどうかを示すフラグ
let lastX = 0; // 最後に描画したX座標
let lastY = 0; // 最後に描画したY座標

// 線のスタイルを設定
ctx.strokeStyle = '#000000'; // 黒色
ctx.lineWidth = 3; // 線の太さ
ctx.lineJoin = 'round'; // 線と線の結合部分を丸くする
ctx.lineCap = 'round'; // 線の端を丸くする

// マウスが押された時の処理
canvas.addEventListener('mousedown', (e) => {
    isDrawing = true;
    [lastX, lastY] = [e.offsetX, e.offsetY]; // 現在のマウス位置を記録
});

// マウスが動いた時の処理
canvas.addEventListener('mousemove', (e) => {
    if (!isDrawing) return; // 描画中でなければ何もしない
    ctx.beginPath(); // 新しいパスを開始
    ctx.moveTo(lastX, lastY); // 前回の位置から開始
    ctx.lineTo(e.offsetX, e.offsetY); // 現在の位置まで線を引く
    ctx.stroke(); // 線を描画
    [lastX, lastY] = [e.offsetX, e.offsetY]; // 現在の位置を次の開始点として記録
});

// マウスが離れた時、またはキャンバスから出た時の処理
canvas.addEventListener('mouseup', () => isDrawing = false);
canvas.addEventListener('mouseout', () => isDrawing = false);

// キャンバスをクリアするボタンのイベントリスナー
const clearButton = document.getElementById('clear-canvas-btn');
clearButton.addEventListener('click', () => {
    ctx.clearRect(0, 0, canvas.width, canvas.height); // キャンバス全体をクリア
});
            </code></pre>
            <p class="leading-relaxed">
                このコードでは、`mousedown`、`mousemove`、`mouseup`、`mouseout`イベントリスナーを使って、マウスの動きを検知しています。`isDrawing`フラグで描画中かどうかを管理し、`mousemove`イベント中に`lineTo()`と`stroke()`を使って連続的に線を描画しています。また、`clearRect()`を使ってキャンバスをリセットする機能も追加しました。
            </p>
        </section>

        <section id="counter" class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-3xl font-bold text-blue-700 mb-4">カウンターを体験しよう！</h2>
            <p class="mb-4 leading-relaxed">
                JavaScriptを使って、ボタンのクリックに応じて数値を増減させるシンプルなカウンターです。DOM操作とイベントリスナーの基本的な使い方を体験できます。
            </p>
            <div class="flex flex-col items-center justify-center space-y-4">
                <div class="text-6xl font-bold text-blue-800" id="count-display">0</div>
                <div class="flex space-x-4">
                    <button id="decrement-btn" class="action-button bg-red-500 hover:bg-red-600">
                        -1
                    </button>
                    <button id="increment-btn" class="action-button bg-green-500 hover:bg-green-600">
                        +1
                    </button>
                </div>
            </div>
            <h3 class="text-2xl font-semibold text-blue-600 mb-3 mt-8">カウンターコードの解説</h3>
            <p class="mb-4 leading-relaxed">
                以下のJavaScriptコードは、上記のカウンターのロジックを実装しています。
            </p>
            <pre class="bg-gray-100 p-4 rounded-md overflow-x-auto text-sm mb-4"><code>
// カウンターの要素を取得
const countDisplay = document.getElementById('count-display');
const decrementBtn = document.getElementById('decrement-btn');
const incrementBtn = document.getElementById('increment-btn');

let count = 0; // カウンターの初期値

// カウント表示を更新する関数
function updateCountDisplay() {
    countDisplay.textContent = count;
}

// デクリメントボタンのイベントリスナー
decrementBtn.addEventListener('click', () => {
    count--; // カウントを減らす
    updateCountDisplay(); // 表示を更新
});

// インクリメントボタンのイベントリスner
incrementBtn.addEventListener('click', () => {
    count++; // カウントを増やす
    updateCountDisplay(); // 表示を更新
});

updateCountDisplay(); // ページ読み込み時に初期値を表示
            </code></pre>
            <p class="leading-relaxed">
                このコードでは、まず表示要素とボタン要素を取得します。`count`変数を初期化し、`updateCountDisplay`関数で表示を更新します。各ボタンには`addEventListener`を使ってクリックイベントリスナーを設定し、クリックされるたびに`count`を増減させ、表示を更新しています。
            </p>
        </section>

        <section id="applications" class="bg-white p-6 rounded-lg shadow-md mb-8">
            <h2 class="text-3xl font-bold text-blue-700 mb-4">その他のJavaScriptの活用例</h2>
            <p class="mb-4 leading-relaxed">
                JavaScriptはウェブページのインタラクティブ性を高めるだけでなく、様々な分野で活用されています。
            </p>
            <ol class="list-decimal list-inside space-y-2 mb-4">
                <li><strong>Node.js:</strong> サーバーサイドでJavaScriptを実行し、ウェブアプリケーションのバックエンドを構築できます。</li>
                <li><strong>React, Vue.js, Angular:</strong> 大規模なシングルページアプリケーション（SPA）を効率的に開発するための人気フレームワークです。</li>
                <li><strong>非同期処理（Promise, async/await）:</strong> ネットワークからのデータ取得など、時間のかかる処理をスムーズに行うための機能です。</li>
                <li><strong>DOM操作とイベントハンドリング:</strong> ユーザーの操作（クリック、入力など）に応じてウェブページの要素を動的に変更します。</li>
                <li><strong>WebSockets:</strong> リアルタイムチャットやゲームなど、サーバーとクライアント間で双方向通信を行うために使用されます。</li>
                <li><strong>PWA (Progressive Web Apps):</strong> オフラインでも動作する、ネイティブアプリのような体験を提供するウェブアプリケーションです。</li>
            </ol>
            <p class="text-sm text-gray-600">
                より高度なJavaScriptの活用例については、<a href="https://www.freecodecamp.org/news/tag/javascript/" target="_blank" class="text-blue-500 hover:underline">freeCodeCampのJavaScript記事</a>も参考になります。
            </p>
        </section>
    </main>

    <footer class="bg-gray-200 text-center p-4 text-gray-700 text-sm rounded-t-lg">
        <p>&copy; 2025 JavaScript入門チュートリアル</p>
        <p>本コンテンツの作成時間（HTML/CSS/JavaScriptの設計・実装を含む）：約7時間</p>
    </footer>

    <script src="script.js"></script>
</body>
</html>
